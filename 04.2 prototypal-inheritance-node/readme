Using classes/objects and prototype to refactor node backend
